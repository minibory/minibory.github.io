---
title: "[OS] 데드락(DeadLock, 교착 상태)"
date: 2022-07-19 00:50:00 +09:00
categories: [Computer Science, Operating System]
tags: [OS, 운영체제]
---

### **💡 데드락(DeadLock, 교착 상태) 이란?**

둘 이상의 프로세스가 서로 다른 프로세스의 자원이 끝나기를 무한히 기다리는 상황

------

###  **⚠️  발생조건**

아래 4가지 조건이 **모두 충족**하면 데드락(DeadLock) 즉, 교착 상태가 일어난다.
<br/><br/>

**1. 상호 배제(Mutual exclusion)**
  * 자원을 동시에 사용할 수 없는 경우, 즉 자원을 한번에 한 프로세스만 사용할 수 있다.

**2. 점유 대기(Hold and wait)**
  * 프로세스가 이미 자원을 보유한 상태에서 다른 프로세스에 할당된 자원을 추가로 요구하고 있다.

**3. 선점 불가(No preemption)**
  * 프로세스에 이미 할당된 자원은 사용이 끝날 때까지 빼앗을 수 없다.

**4. 순환 대기(Circular wait)**
  * 프로세스가 요구하는 자원이 순환 형태를 이루고 있다.
  * **점유 대기**와 **선점 불가**가 만족해야 성립된다.

------

###  **💊해결 방법**

**1. 예방(Prevention)**
* **상호 배제**
  * 자원을 공유 가능하도록 한다.
* **점유 대기**
  * 프로세스가 수행되기 전에 모든 자원을 할당하거나 점유되지 않은 자원만을 요구하도록 한다.
* **선점 불가**
  * 선점이 가능하도록 한다.
  * 이미 자원이 할당된 프로세스가 다른 자원을 추가로 요구할때 할당된 자원을 반납하고, 요구한 자원을 기다리도록 한다.
* **순환 대기**
  * 자원에 고유 번호 및 순서를 부여한다.

※ 예방 방법은 **시스템의 처리량과 효율성을 떨어트리는 단점**이 있다.
<br/><br/>

**2. 회피(Avoidance)**
* 교착 상태가 발생할 가능성이 있는 상태(순서가 부여되지 않은 상태)에서는 자원을 할당하지 않는다.
<br/><br/>

**3. 탐지(Detection) & 회복(Recovery)**
* 주기적으로 **시스템에 교착 상태가 발생했는지 판단(탐지, Detection)**하고, 만약 교착 상태가 탐지되었다면 **해당 프로세스를 종료하거나 해당 자원을 선점하여 복구(회복, Recovery)**한다.
